window.addEventListener("load",()=>{let register_button=document.getElementById("register_button"),wechat_id=document.querySelector("input#wechat-input"),name=document.querySelector("input#name-input"),password=document.querySelector("input#password-input"),repassword=document.querySelector("input#repassword-input");register_button.addEventListener("click",()=>{if(wechat_id.value&&name.value&&password.value&&repassword.value)if(password.value==repassword.value){alertEl(!1);let body=`wechat_id=${wechat_id.value}&name=${name.value}&password=${password.value}&code=${code}`;"undefined"!=typeof invited&&(body+=`&inv=${invited}`),register_button.disabled=!0,fetch("../api/account?type=register",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:body}).then(response=>response.json()).then(data=>{register_button.disabled=!1,200==data.response?location.href=`../account?data=verify&code=${data.data.verify_code}`:"exist"==data.response&&alertEl(!0,`您好 ${data.data.name} 你已用这个微信号注册过账号`)})}else alertEl(!0,"密码不统一, 请确认");else alertEl(!0,"填完完整信息呢, 亲~")})});